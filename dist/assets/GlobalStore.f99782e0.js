import{y as k,z,ak as v,bj as _,B as A,J as y,L as G,H as L,I as c,M as w,o as n,d as f,aa as m,V as l,a8 as d,w as B,a9 as C,b as P,T as j,U as I,W as U,D as N,af as T,ag as D,cm as S,bA as H,u as M}from"./index.41bf9c1b.js";import{u as V}from"./AuthGlobalStore.96259e5a.js";import{u as q}from"./EnumGlobalStore.f9b8c63d.js";const F=k({size:{type:[Number,String],values:z,default:"",validator:a=>v(a)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:_},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:A(String),default:"cover"}}),J={error:a=>a instanceof Event},O=["src","alt","srcset"],R=y({name:"ElAvatar"}),W=y({...R,props:F,emits:J,setup(a,{emit:t}){const r=a,e=G("avatar"),i=L(!1),h=c(()=>{const{size:s,icon:u,shape:p}=r,o=[e.b()];return N(s)&&o.push(e.m(s)),u&&o.push(e.m("icon")),p&&o.push(e.m(p)),o}),b=c(()=>{const{size:s}=r;return v(s)?e.cssVarBlock({size:T(s)||""}):void 0}),g=c(()=>({objectFit:r.fit}));w(()=>r.src,()=>i.value=!1);function E(s){i.value=!0,t("error",s)}return(s,u)=>(n(),f("span",{class:I(l(h)),style:m(l(b))},[(s.src||s.srcSet)&&!i.value?(n(),f("img",{key:0,src:s.src,alt:s.alt,srcset:s.srcSet,style:m(l(g)),onError:E},null,44,O)):s.icon?(n(),d(l(P),{key:1},{default:B(()=>[(n(),d(C(s.icon)))]),_:1})):j(s.$slots,"default",{key:2})],6))}});var $=U(W,[["__file","avatar.vue"]]);const Z=D($),x=a=>"/api"+a;const ss="/assets/default_avatar.07eab745.jpeg",K=S("history",{state(){return{historyList:[{title:"\u9996\u9875",path:"/"}]}},actions:{async clear(){this.historyList=[{title:"\u9996\u9875",path:"/"}]}}}),as=S("global",{state(){return{menu:H(),user:M(),enums:q(),auth:V(),history:K()}},actions:{async clearStore(){for(const[a,t]of Object.entries(this))t.clear&&await Promise.resolve(t.clear())}}});export{Z as E,K as a,x as b,ss as d,as as u};
