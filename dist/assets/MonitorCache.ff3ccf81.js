import{bh as f,_ as m,c8 as u,o as t,d as c,aB as b,f as d,w as _,e,ab as a,ac as i,p,i as v}from"./index.41bf9c1b.js";import{E as y}from"./el-card.6030fdb6.js";import{i as h}from"./index.1547a38d.js";const k=()=>f({url:"/monitor/cache",loading:!0});const g={data(){return{cache:{commandStats:[],info:{},dbSize:0}}},methods:{async init(){const o=this.cache=await k();this.commandStarRef=h(this.$refs.commandStarRef,"macarons"),this.commandStarRef.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"\u547D\u4EE4",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:o.commandStats,animationEasing:"cubicInOut",animationDuration:1e3}]}),this.memoryRef=h(this.$refs.memoryRef,"macarons"),this.memoryRef.setOption({tooltip:{formatter:"{b} <br/>{a} : "+o.info.used_memory_human},series:[{name:"\u5CF0\u503C",type:"gauge",min:0,max:1e3,detail:{formatter:o.info.used_memory_human},data:[{value:parseFloat(o.info.used_memory_human),name:"\u5185\u5B58\u6D88\u8017"}]}]})}},created(){this.init()}},l=o=>(p("data-v-963616db"),o=o(),v(),o),S={class:"MonitorCache"},R=l(()=>e("div",{class:"card-header"},[e("span",null,"\u57FA\u672C\u4FE1\u606F")],-1)),x={class:"el-table el-table--enable-row-hover el-table--medium"},w={cellspacing:"0",style:{width:"100%"}},C=l(()=>e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"Redis\u7248\u672C")],-1)),B={class:"el-table__cell is-leaf"},D={key:0,class:"cell"},I=l(()=>e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"\u8FD0\u884C\u6A21\u5F0F")],-1)),E={class:"el-table__cell is-leaf"},F={key:0,class:"cell"},O=l(()=>e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"\u7AEF\u53E3")],-1)),z={class:"el-table__cell is-leaf"},M={key:0,class:"cell"},N=l(()=>e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"\u5BA2\u6237\u7AEF\u6570")],-1)),V={class:"el-table__cell is-leaf"},A={key:0,class:"cell"},q=l(()=>e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"\u8FD0\u884C\u65F6\u95F4(\u5929)")],-1)),K={class:"el-table__cell is-leaf"},P={key:0,class:"cell"},T=l(()=>e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"\u4F7F\u7528\u5185\u5B58")],-1)),U={class:"el-table__cell is-leaf"},j={key:0,class:"cell"},G=l(()=>e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"\u4F7F\u7528CPU")],-1)),H={class:"el-table__cell is-leaf"},J={key:0,class:"cell"},L=l(()=>e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"\u5185\u5B58\u914D\u7F6E")],-1)),Q={class:"el-table__cell is-leaf"},W={key:0,class:"cell"},X=l(()=>e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"AOF\u662F\u5426\u5F00\u542F")],-1)),Y={class:"el-table__cell is-leaf"},Z={key:0,class:"cell"},$=l(()=>e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"RDB\u662F\u5426\u6210\u529F")],-1)),ee={class:"el-table__cell is-leaf"},se={key:0,class:"cell"},le=l(()=>e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"Key\u6570\u91CF")],-1)),te={class:"el-table__cell is-leaf"},ce={key:0,class:"cell"},ae=l(()=>e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"\u7F51\u7EDC\u5165\u53E3/\u51FA\u53E3")],-1)),ie={class:"el-table__cell is-leaf"},oe={key:0,class:"cell"},_e={class:"display-inline"},ne=l(()=>e("div",{slot:"header"},[e("span",null,"\u547D\u4EE4\u7EDF\u8BA1")],-1)),de={class:"el-table el-table--enable-row-hover el-table--medium"},he={ref:"commandStarRef",style:{height:"420px"}},re=l(()=>e("div",{slot:"header"},[e("span",null,"\u5185\u5B58\u4FE1\u606F")],-1)),fe={class:"el-table el-table--enable-row-hover el-table--medium"},me={ref:"memoryRef",style:{height:"420px"}};function ue(o,be,pe,ve,s,ye){const n=y,r=u("auth");return t(),c("div",S,[b((t(),c("div",null,[d(n,{class:"card-item"},{header:_(()=>[R]),default:_(()=>[e("div",x,[e("table",w,[e("tbody",null,[e("tr",null,[C,e("td",B,[s.cache.info?(t(),c("div",D,a(s.cache.info.redis_version),1)):i("",!0)]),I,e("td",E,[s.cache.info?(t(),c("div",F,a(s.cache.info.redis_mode=="standalone"?"\u5355\u673A":"\u96C6\u7FA4"),1)):i("",!0)]),O,e("td",z,[s.cache.info?(t(),c("div",M,a(s.cache.info.tcp_port),1)):i("",!0)]),N,e("td",V,[s.cache.info?(t(),c("div",A,a(s.cache.info.connected_clients),1)):i("",!0)])]),e("tr",null,[q,e("td",K,[s.cache.info?(t(),c("div",P,a(s.cache.info.uptime_in_days),1)):i("",!0)]),T,e("td",U,[s.cache.info?(t(),c("div",j,a(s.cache.info.used_memory_human),1)):i("",!0)]),G,e("td",H,[s.cache.info?(t(),c("div",J,a(parseFloat(s.cache.info.used_cpu_user_children).toFixed(2)),1)):i("",!0)]),L,e("td",Q,[s.cache.info?(t(),c("div",W,a(s.cache.info.maxmemory_human),1)):i("",!0)])]),e("tr",null,[X,e("td",Y,[s.cache.info?(t(),c("div",Z,a(s.cache.info.aof_enabled=="0"?"\u5426":"\u662F"),1)):i("",!0)]),$,e("td",ee,[s.cache.info?(t(),c("div",se,a(s.cache.info.rdb_last_bgsave_status),1)):i("",!0)]),le,e("td",te,[s.cache.dbSize?(t(),c("div",ce,a(s.cache.dbSize),1)):i("",!0)]),ae,e("td",ie,[s.cache.info?(t(),c("div",oe,a(s.cache.info.instantaneous_input_kbps)+"kps/"+a(s.cache.info.instantaneous_output_kbps)+"kps ",1)):i("",!0)])])])])])]),_:1}),e("div",_e,[d(n,{class:"card-item"},{default:_(()=>[ne,e("div",de,[e("div",he,null,512)])]),_:1}),d(n,{class:"card-item"},{default:_(()=>[re,e("div",fe,[e("div",me,null,512)])]),_:1})])])),[[r,"monitor:cache:list"]])])}const Re=m(g,[["render",ue],["__scopeId","data-v-963616db"]]);export{Re as default};
